package com.viplearner.api.services

import com.viplearner.api.client.BaseApiClient
import io.ktor.client.*
import io.ktor.client.engine.mock.*
import io.ktor.client.plugins.contentnegotiation.*
import io.ktor.http.*
import io.ktor.serialization.kotlinx.json.*
import io.ktor.utils.io.*
import kotlinx.coroutines.test.runTest
import kotlinx.serialization.json.Json
import kotlin.test.*

/**
 * Generated test file for TablebaseService
 *
 * This file was automatically generated by the test generator script.
 * It contains tests for all API endpoints in the TablebaseService service.
 *
 * Tests use MockEngine to simulate HTTP responses and verify requests.
 */
class TablebaseServiceTest {
    @BeforeTest
    fun setup() {
        // Setup will be customized per test with mock engine
    }

    @Test
    fun testTablebasestandard_example0() =
        runTest {
            // Arrange - Mock HTTP response
            val mockResponse =
                """
                {
                            "checkmate": false,
                            "stalemate": false,
                            "variant_win": false,
                            "variant_loss": false,
                            "insufficient_material": false,
                            "dtz": 1,
                            "precise_dtz": 1,
                            "dtm": 17,
                            "dtw": null,
                            "dtc": null,
                            "category": "win",
                            "moves": [
                                        {
                                                    "uci": "h7h8q",
                                                    "san": "h8=Q+",
                                                    "zeroing": true,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": -2,
                                                    "precise_dtz": -2,
                                                    "dtm": -16,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "loss"
                                        },
                                        {
                                                    "uci": "h7h8r",
                                                    "san": "h8=R+",
                                                    "zeroing": true,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": -2,
                                                    "precise_dtz": -2,
                                                    "dtm": -26,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "loss"
                                        },
                                        {
                                                    "uci": "g7g8",
                                                    "san": "Kg8",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": 0,
                                                    "precise_dtz": 0,
                                                    "dtm": 0,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "draw"
                                        },
                                        {
                                                    "uci": "g7f6",
                                                    "san": "Kf6",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": 1,
                                                    "precise_dtz": 1,
                                                    "dtm": 19,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "win"
                                        },
                                        {
                                                    "uci": "g7g6",
                                                    "san": "Kg6",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": 1,
                                                    "precise_dtz": 1,
                                                    "dtm": 19,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "win"
                                        },
                                        {
                                                    "uci": "g7h6",
                                                    "san": "Kh6",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": 1,
                                                    "precise_dtz": 1,
                                                    "dtm": 19,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "win"
                                        },
                                        {
                                                    "uci": "g7h8",
                                                    "san": "Kh8",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": 1,
                                                    "precise_dtz": 1,
                                                    "dtm": 19,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "win"
                                        },
                                        {
                                                    "uci": "h7h8n",
                                                    "san": "h8=N",
                                                    "zeroing": true,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": 1,
                                                    "precise_dtz": 1,
                                                    "dtm": 19,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "win"
                                        },
                                        {
                                                    "uci": "h7h8b",
                                                    "san": "h8=B",
                                                    "zeroing": true,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": 1,
                                                    "precise_dtz": 1,
                                                    "dtm": 15,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "win"
                                        }
                            ]
                }
                """.trimIndent()

            val mockEngine =
                MockEngine { request ->
                    // Verify request matches expected endpoint: GET standard
                    assertEquals("standard", request.url.encodedPath.trimStart('/'))
                    assertEquals(HttpMethod.parse("GET"), request.method)

                    respond(
                        content = ByteReadChannel(mockResponse),
                        status = HttpStatusCode.fromValue(200),
                        headers = headersOf(HttpHeaders.ContentType, "application/json"),
                    )
                }

            // Create mock HttpClient with proper configuration
            val mockHttpClient =
                HttpClient(mockEngine) {
                    install(ContentNegotiation) {
                        json(
                            Json {
                                ignoreUnknownKeys = true
                                coerceInputValues = true
                                explicitNulls = false
                            },
                        )
                    }
                }

            // Create service with mocked client
            val testApiClient =
                BaseApiClient(
                    baseUrl = "https://lichess.org",
                    token = "test_token",
                    httpClient = mockHttpClient,
                )
            val testService = TablebaseService(testApiClient)

            // Act
            val result = testService.tablebaseStandard(fen = "mock")

            // Assert
            assertTrue(result.isSuccess, "API call should succeed")
            val response = result.getOrNull()
            assertNotNull(response, "Response should not be null")
            // Verify field: checkmate
            // Verify field: stalemate
            // Verify field: variant_win

            // Cleanup
            testApiClient.close()
        }

    @Test
    fun testTablebasestandard_example1() =
        runTest {
            // Arrange - Mock HTTP response
            val mockResponse =
                """
                {
                            "dtz": 1,
                            "precise_dtz": 1,
                            "dtc": null,
                            "dtm": 17,
                            "dtw": null,
                            "checkmate": false,
                            "stalemate": false,
                            "variant_win": false,
                            "variant_loss": false,
                            "insufficient_material": false,
                            "category": "win",
                            "moves": [
                                        {
                                                    "uci": "h7h8q",
                                                    "san": "h8=Q+",
                                                    "dtz": -2,
                                                    "precise_dtz": -2,
                                                    "dtc": null,
                                                    "dtm": -16,
                                                    "dtw": null,
                                                    "zeroing": true,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "category": "loss"
                                        }
                            ]
                }
                """.trimIndent()

            val mockEngine =
                MockEngine { request ->
                    // Verify request matches expected endpoint: GET standard
                    assertEquals("standard", request.url.encodedPath.trimStart('/'))
                    assertEquals(HttpMethod.parse("GET"), request.method)

                    respond(
                        content = ByteReadChannel(mockResponse),
                        status = HttpStatusCode.fromValue(200),
                        headers = headersOf(HttpHeaders.ContentType, "application/json"),
                    )
                }

            // Create mock HttpClient with proper configuration
            val mockHttpClient =
                HttpClient(mockEngine) {
                    install(ContentNegotiation) {
                        json(
                            Json {
                                ignoreUnknownKeys = true
                                coerceInputValues = true
                                explicitNulls = false
                            },
                        )
                    }
                }

            // Create service with mocked client
            val testApiClient =
                BaseApiClient(
                    baseUrl = "https://lichess.org",
                    token = "test_token",
                    httpClient = mockHttpClient,
                )
            val testService = TablebaseService(testApiClient)

            // Act
            val result = testService.tablebaseStandard(fen = "mock")

            // Assert
            assertTrue(result.isSuccess, "API call should succeed")
            val response = result.getOrNull()
            assertNotNull(response, "Response should not be null")
            // Verify field: dtz
            // Verify field: precise_dtz
            // Verify field: dtc

            // Cleanup
            testApiClient.close()
        }

    @Test
    fun testTablebaseatomic_example0() =
        runTest {
            // Arrange - Mock HTTP response
            val mockResponse =
                """
                {
                            "checkmate": false,
                            "stalemate": false,
                            "variant_win": false,
                            "variant_loss": false,
                            "insufficient_material": false,
                            "dtz": null,
                            "precise_dtz": null,
                            "dtm": null,
                            "dtw": null,
                            "dtc": null,
                            "category": "unknown",
                            "moves": [
                                        {
                                                    "uci": "a6b5",
                                                    "san": "Bxb5",
                                                    "zeroing": true,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "b4c3",
                                                    "san": "Bxc3",
                                                    "zeroing": true,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "d4c3",
                                                    "san": "Qxc3",
                                                    "zeroing": true,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "d4d3",
                                                    "san": "Qxd3+",
                                                    "zeroing": true,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "d4e3",
                                                    "san": "Qxe3",
                                                    "zeroing": true,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "e6e5",
                                                    "san": "e5",
                                                    "zeroing": true,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "f7f6",
                                                    "san": "f6",
                                                    "zeroing": true,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "g7g6",
                                                    "san": "g6",
                                                    "zeroing": true,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "f7f5",
                                                    "san": "f5",
                                                    "zeroing": true,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "g7g5",
                                                    "san": "g5",
                                                    "zeroing": true,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "h5h4",
                                                    "san": "h4",
                                                    "zeroing": true,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "d4d6",
                                                    "san": "Qd6",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "b4c5",
                                                    "san": "Bc5",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "b4d6",
                                                    "san": "Bd6",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "b4e7",
                                                    "san": "Be7",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "b4f8",
                                                    "san": "Bf8",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "g8h6",
                                                    "san": "Nh6",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "a6b7",
                                                    "san": "Bb7",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "a6c8",
                                                    "san": "Bc8",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "a8b8",
                                                    "san": "Rb8",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "a8c8",
                                                    "san": "Rc8",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "a8d8",
                                                    "san": "Rd8",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "h8h6",
                                                    "san": "Rh6",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "h8h7",
                                                    "san": "Rh7",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "g8e7",
                                                    "san": "Ne7",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "b4a3",
                                                    "san": "Ba3",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "g8f6",
                                                    "san": "Nf6",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "d4c4",
                                                    "san": "Qc4",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "d4e4",
                                                    "san": "Qe4",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "d4f4",
                                                    "san": "Qf4",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "d4g4",
                                                    "san": "Qg4",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "d4h4",
                                                    "san": "Qh4",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "d4c5",
                                                    "san": "Qc5",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "d4d5",
                                                    "san": "Qd5",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "d4e5",
                                                    "san": "Qe5",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "b4a5",
                                                    "san": "Ba5",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "d4f6",
                                                    "san": "Qf6",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "e8e7",
                                                    "san": "Ke7",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "e8d8",
                                                    "san": "Kd8",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "e8f8",
                                                    "san": "Kf8",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "e8c8",
                                                    "san": "O-O-O",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        }
                            ]
                }
                """.trimIndent()

            val mockEngine =
                MockEngine { request ->
                    // Verify request matches expected endpoint: GET atomic
                    assertEquals("atomic", request.url.encodedPath.trimStart('/'))
                    assertEquals(HttpMethod.parse("GET"), request.method)

                    respond(
                        content = ByteReadChannel(mockResponse),
                        status = HttpStatusCode.fromValue(200),
                        headers = headersOf(HttpHeaders.ContentType, "application/json"),
                    )
                }

            // Create mock HttpClient with proper configuration
            val mockHttpClient =
                HttpClient(mockEngine) {
                    install(ContentNegotiation) {
                        json(
                            Json {
                                ignoreUnknownKeys = true
                                coerceInputValues = true
                                explicitNulls = false
                            },
                        )
                    }
                }

            // Create service with mocked client
            val testApiClient =
                BaseApiClient(
                    baseUrl = "https://lichess.org",
                    token = "test_token",
                    httpClient = mockHttpClient,
                )
            val testService = TablebaseService(testApiClient)

            // Act
            val result = testService.tablebaseAtomic(fen = "mock")

            // Assert
            assertTrue(result.isSuccess, "API call should succeed")
            val response = result.getOrNull()
            assertNotNull(response, "Response should not be null")
            // Verify field: checkmate
            // Verify field: stalemate
            // Verify field: variant_win

            // Cleanup
            testApiClient.close()
        }

    @Test
    fun testTablebaseatomic_example1() =
        runTest {
            // Arrange - Mock HTTP response
            val mockResponse =
                """
                {
                            "dtz": 1,
                            "precise_dtz": 1,
                            "dtc": null,
                            "dtm": 17,
                            "dtw": null,
                            "checkmate": false,
                            "stalemate": false,
                            "variant_win": false,
                            "variant_loss": false,
                            "insufficient_material": false,
                            "category": "win",
                            "moves": [
                                        {
                                                    "uci": "h7h8q",
                                                    "san": "h8=Q+",
                                                    "dtz": -2,
                                                    "precise_dtz": -2,
                                                    "dtc": null,
                                                    "dtm": -16,
                                                    "dtw": null,
                                                    "zeroing": true,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "category": "loss"
                                        }
                            ]
                }
                """.trimIndent()

            val mockEngine =
                MockEngine { request ->
                    // Verify request matches expected endpoint: GET atomic
                    assertEquals("atomic", request.url.encodedPath.trimStart('/'))
                    assertEquals(HttpMethod.parse("GET"), request.method)

                    respond(
                        content = ByteReadChannel(mockResponse),
                        status = HttpStatusCode.fromValue(200),
                        headers = headersOf(HttpHeaders.ContentType, "application/json"),
                    )
                }

            // Create mock HttpClient with proper configuration
            val mockHttpClient =
                HttpClient(mockEngine) {
                    install(ContentNegotiation) {
                        json(
                            Json {
                                ignoreUnknownKeys = true
                                coerceInputValues = true
                                explicitNulls = false
                            },
                        )
                    }
                }

            // Create service with mocked client
            val testApiClient =
                BaseApiClient(
                    baseUrl = "https://lichess.org",
                    token = "test_token",
                    httpClient = mockHttpClient,
                )
            val testService = TablebaseService(testApiClient)

            // Act
            val result = testService.tablebaseAtomic(fen = "mock")

            // Assert
            assertTrue(result.isSuccess, "API call should succeed")
            val response = result.getOrNull()
            assertNotNull(response, "Response should not be null")
            // Verify field: dtz
            // Verify field: precise_dtz
            // Verify field: dtc

            // Cleanup
            testApiClient.close()
        }

    @Test
    fun testAntichessatomic_example0() =
        runTest {
            // Arrange - Mock HTTP response
            val mockResponse =
                """
                {
                            "checkmate": false,
                            "stalemate": false,
                            "variant_win": false,
                            "variant_loss": false,
                            "insufficient_material": false,
                            "dtz": null,
                            "precise_dtz": null,
                            "dtm": null,
                            "dtw": null,
                            "dtc": null,
                            "category": "unknown",
                            "moves": [
                                        {
                                                    "uci": "f7f6",
                                                    "san": "f6",
                                                    "zeroing": true,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "h7h6",
                                                    "san": "h6",
                                                    "zeroing": true,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "f7f5",
                                                    "san": "f5",
                                                    "zeroing": true,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "h7h5",
                                                    "san": "h5",
                                                    "zeroing": true,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "g8f6",
                                                    "san": "Nf6",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "g8h6",
                                                    "san": "Nh6",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "e7d6",
                                                    "san": "Kd6",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "e7e6",
                                                    "san": "Ke6",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "e7f6",
                                                    "san": "Kf6",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "e7d7",
                                                    "san": "Kd7",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "e7d8",
                                                    "san": "Kd8",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "e7e8",
                                                    "san": "Ke8",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        },
                                        {
                                                    "uci": "e7f8",
                                                    "san": "Kf8",
                                                    "zeroing": false,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "dtz": null,
                                                    "precise_dtz": null,
                                                    "dtm": null,
                                                    "dtw": null,
                                                    "dtc": null,
                                                    "category": "unknown"
                                        }
                            ]
                }
                """.trimIndent()

            val mockEngine =
                MockEngine { request ->
                    // Verify request matches expected endpoint: GET antichess
                    assertEquals("antichess", request.url.encodedPath.trimStart('/'))
                    assertEquals(HttpMethod.parse("GET"), request.method)

                    respond(
                        content = ByteReadChannel(mockResponse),
                        status = HttpStatusCode.fromValue(200),
                        headers = headersOf(HttpHeaders.ContentType, "application/json"),
                    )
                }

            // Create mock HttpClient with proper configuration
            val mockHttpClient =
                HttpClient(mockEngine) {
                    install(ContentNegotiation) {
                        json(
                            Json {
                                ignoreUnknownKeys = true
                                coerceInputValues = true
                                explicitNulls = false
                            },
                        )
                    }
                }

            // Create service with mocked client
            val testApiClient =
                BaseApiClient(
                    baseUrl = "https://lichess.org",
                    token = "test_token",
                    httpClient = mockHttpClient,
                )
            val testService = TablebaseService(testApiClient)

            // Act
            val result = testService.antichessAtomic(fen = "mock")

            // Assert
            assertTrue(result.isSuccess, "API call should succeed")
            val response = result.getOrNull()
            assertNotNull(response, "Response should not be null")
            // Verify field: checkmate
            // Verify field: stalemate
            // Verify field: variant_win

            // Cleanup
            testApiClient.close()
        }

    @Test
    fun testAntichessatomic_example1() =
        runTest {
            // Arrange - Mock HTTP response
            val mockResponse =
                """
                {
                            "dtz": 1,
                            "precise_dtz": 1,
                            "dtc": null,
                            "dtm": 17,
                            "dtw": null,
                            "checkmate": false,
                            "stalemate": false,
                            "variant_win": false,
                            "variant_loss": false,
                            "insufficient_material": false,
                            "category": "win",
                            "moves": [
                                        {
                                                    "uci": "h7h8q",
                                                    "san": "h8=Q+",
                                                    "dtz": -2,
                                                    "precise_dtz": -2,
                                                    "dtc": null,
                                                    "dtm": -16,
                                                    "dtw": null,
                                                    "zeroing": true,
                                                    "checkmate": false,
                                                    "stalemate": false,
                                                    "variant_win": false,
                                                    "variant_loss": false,
                                                    "insufficient_material": false,
                                                    "category": "loss"
                                        }
                            ]
                }
                """.trimIndent()

            val mockEngine =
                MockEngine { request ->
                    // Verify request matches expected endpoint: GET antichess
                    assertEquals("antichess", request.url.encodedPath.trimStart('/'))
                    assertEquals(HttpMethod.parse("GET"), request.method)

                    respond(
                        content = ByteReadChannel(mockResponse),
                        status = HttpStatusCode.fromValue(200),
                        headers = headersOf(HttpHeaders.ContentType, "application/json"),
                    )
                }

            // Create mock HttpClient with proper configuration
            val mockHttpClient =
                HttpClient(mockEngine) {
                    install(ContentNegotiation) {
                        json(
                            Json {
                                ignoreUnknownKeys = true
                                coerceInputValues = true
                                explicitNulls = false
                            },
                        )
                    }
                }

            // Create service with mocked client
            val testApiClient =
                BaseApiClient(
                    baseUrl = "https://lichess.org",
                    token = "test_token",
                    httpClient = mockHttpClient,
                )
            val testService = TablebaseService(testApiClient)

            // Act
            val result = testService.antichessAtomic(fen = "mock")

            // Assert
            assertTrue(result.isSuccess, "API call should succeed")
            val response = result.getOrNull()
            assertNotNull(response, "Response should not be null")
            // Verify field: dtz
            // Verify field: precise_dtz
            // Verify field: dtc

            // Cleanup
            testApiClient.close()
        }
}
